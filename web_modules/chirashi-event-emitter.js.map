{"version":3,"file":"chirashi-event-emitter.js","sources":["../node_modules/chirashi-event-emitter/dist/chirashi-event-emitter.mjs"],"sourcesContent":["/**\n * ChirashiEventEmitter.js v2.0.3\n * (c) 2017 Alex Toudic\n * Released under MIT License.\n **/\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/**\n * The TEventEmitter factory function.\n */\nvar EventEmitter$1 = function EventEmitter() {\n  var _events = {};\n\n  var self = {\n    on: function on(event, callback) {\n      if (!(event in _events)) {\n        _events[event] = [];\n      }\n\n      _events[event].push(callback);\n\n      return function () {\n        return self.off(event, callback);\n      };\n    },\n    off: function off(event, callback) {\n      if (!(event in _events)) return;\n\n      if (typeof callback === 'function') {\n        var index = void 0;\n        if ((index = _events[event].indexOf(callback)) !== -1) {\n          _events[event].splice(index, 1);\n        }\n      } else {\n        delete _events[event];\n      }\n    },\n    emit: function emit(event) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (!(event in _events)) return;\n\n      var listeners = _events[event].slice(); // copy current listeners in case of unbinding\n      var n = listeners.length;\n\n      var _loop = function _loop(i) {\n        setTimeout(function () {\n          listeners[i].apply(listeners, toConsumableArray(args));\n        });\n      };\n\n      for (var i = 0; i < n; ++i) {\n        _loop(i);\n      }\n    }\n  };\n\n  return self;\n};\n\nexport default EventEmitter$1;\n"],"names":[],"mappings":"AAAA;;;;;;AAMA,IAAI,iBAAiB,GAAG,UAAU,GAAG,EAAE;EACrC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;IACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;;IAEhF,OAAO,IAAI,CAAC;GACb,MAAM;IACL,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACxB;CACF,CAAC;;;;;AAKF,IAAI,cAAc,GAAG,SAAS,YAAY,GAAG;EAC3C,IAAI,OAAO,GAAG,EAAE,CAAC;;EAEjB,IAAI,IAAI,GAAG;IACT,EAAE,EAAE,SAAS,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE;MAC/B,IAAI,EAAE,KAAK,IAAI,OAAO,CAAC,EAAE;QACvB,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;OACrB;;MAED,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;MAE9B,OAAO,YAAY;QACjB,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;OAClC,CAAC;KACH;IACD,GAAG,EAAE,SAAS,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE;MACjC,IAAI,EAAE,KAAK,IAAI,OAAO,CAAC,EAAE,OAAO;;MAEhC,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;QAClC,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE;UACrD,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SACjC;OACF,MAAM;QACL,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC;OACvB;KACF;IACD,IAAI,EAAE,SAAS,IAAI,CAAC,KAAK,EAAE;MACzB,KAAK,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE;QACtG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;OAClC;;MAED,IAAI,EAAE,KAAK,IAAI,OAAO,CAAC,EAAE,OAAO;;MAEhC,IAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;MACvC,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC;;MAEzB,IAAI,KAAK,GAAG,SAAS,KAAK,CAAC,CAAC,EAAE;QAC5B,UAAU,CAAC,YAAY;UACrB,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;SACxD,CAAC,CAAC;OACJ,CAAC;;MAEF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;QAC1B,KAAK,CAAC,CAAC,CAAC,CAAC;OACV;KACF;GACF,CAAC;;EAEF,OAAO,IAAI,CAAC;CACb,CAAC;;;;"}